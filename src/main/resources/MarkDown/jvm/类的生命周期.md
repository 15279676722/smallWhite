### 1.加载

![image-20230226121340829](../image/image-20230226121340829.png)

1. 通过类的全名，获取类的二进制数据流
2. 解析类的二进制数据流为方法区内的数据结构(Java类模型)
3. 创建java.lang.Class类的实例，表示该类型。作为方法区这个类的各种数据的访问入口。

![image-20230226121705293](../image/image-20230226121705293.png)





### 2.链接

#### 1.验证

保证加载的字节码文件是合法，合理合规的。

![image-20230226122840330](../image/image-20230226122840330.png)



![image-20230226122857193](../image/image-20230226122857193.png)



![image-20230226123147265](../image/image-20230226123147265.png)

![image-20230226123403551](../image/image-20230226123403551.png)



#### 2.准备

![image-20230226123514592](../image/image-20230226123514592.png)





![image-20230226123837914](../image/image-20230226123837914.png)

#### 3.解析

![image-20230226124306385](../image/image-20230226124306385.png)

![image-20230226124333484](../image/image-20230226124333484.png)

![image-20230226124421385](../image/image-20230226124421385.png)





### 3.初始化

![image-20230226124609212](../image/image-20230226124609212.png)

![image-20230226124918548](../image/image-20230226124918548.png)



#### clinit线程安全性问题

![image-20230226125747948](../image/image-20230226125747948.png)

#### 类的主动使用



![image-20230226130116012](../image/image-20230226130116012.png)

![image-20230226130401536](../image/image-20230226130401536.png)



#### 类的被动使用

![image-20230226130437747](../image/image-20230226130437747.png)







