![image-20230223111144922](../image/image-20230223111144922.png)



![image-20230223111245213](../image/image-20230223111245213.png)





### 垃圾回收阶段涉及到的算法



#### 标记阶段

![image-20230223112313195](../image/image-20230223112313195.png)

##### 引用计数算法

![image-20230223112443528](../image/image-20230223112443528.png)

![image-20230223112723393](../image/image-20230223112723393.png)

##### 可达性分析算法

![image-20230223113719613](../image/image-20230223113719613.png)

![image-20230223113750259](../image/image-20230223113750259.png)

![image-20230223113927902](../image/image-20230223113927902.png)

![image-20230223114229651](../image/image-20230223114229651.png)

#### 清除阶段

##### 标记清除算法

![image-20230223150927522](../image/image-20230223150927522.png)



![image-20230223153718921](../image/image-20230223153718921.png)





![image-20230223152458040](../image/image-20230223152458040.png)



##### 复制算法

![image-20230223154741045](../image/image-20230223154741045.png)



![image-20230223154941111](../image/image-20230223154941111.png)



##### 标记压缩算法

![image-20230223220324830](../image/image-20230223220324830.png)

![image-20230223220354441](../image/image-20230223220354441.png)



##### 三种算法对比

![image-20230223220521856](../image/image-20230223220521856.png)

**分代收集算法**

![image-20230223220854226](../image/image-20230223220854226.png)

![image-20230223220958247](../image/image-20230223220958247.png)

![image-20230223221332803](../image/image-20230223221332803.png)



**增量收集算法**

![image-20230223221726321](../image/image-20230223221726321.png)



![image-20230223221754361](../image/image-20230223221754361.png)



**分区算法**

![image-20230223221851321](../image/image-20230223221851321.png)





#### 对象的finalization机制

![image-20230223114400091](../image/image-20230223114400091.png)

![image-20230223114502780](../image/image-20230223114502780.png)

![image-20230223114720273](../image/image-20230223114720273.png)

![image-20230223115858061](../image/image-20230223115858061.png)



### System.gc()

![image-20230223222634759](../image/image-20230223222634759.png)

### 内存溢出(OOM)

![image-20230223223900322](../image/image-20230223223900322.png)

![image-20230223224057323](../image/image-20230223224057323.png)

![image-20230223224346175](../image/image-20230223224346175.png)

### 内存泄漏(Memory Leak)

![image-20230223224454743](../image/image-20230223224454743.png)

![image-20230223224831581](../image/image-20230223224831581.png)





### Stop The World(STW)

![image-20230223225321481](../image/image-20230223225321481.png)

![image-20230223225337491](../image/image-20230223225337491.png)



### 程序的并行和并发

#### 并发



![image-20230223225425815](../image/image-20230223225425815.png)



#### 并行

![image-20230223225608823](../image/image-20230223225608823.png)





![image-20230223225630435](../image/image-20230223225630435.png)





### 垃圾回收的并行和并发

![image-20230223225734061](../image/image-20230223225734061.png)



![image-20230223225824597](../image/image-20230223225824597.png)



### 引用

> 强  软 弱 虚 引用强度逐级递减

![image-20230223230519971](../image/image-20230223230519971.png)

![image-20230223230641045](../image/image-20230223230641045.png)



#### 强引用(Strong Reference) 永不回收

![image-20230224002253088](../image/image-20230224002253088.png)

#### 软引用(Soft Reference) 内存不足即回收

![image-20230224002719081](../image/image-20230224002719081.png)

![image-20230224003002815](../image/image-20230224003002815.png)



#### 弱引用(Weak Reference) 发现即回收

![image-20230224004647831](../image/image-20230224004647831.png)



![image-20230224004703290](../image/image-20230224004703290.png)





#### 虚引用(Phantom Reference) 对象回收追踪

![image-20230224005237924](../image/image-20230224005237924.png)

![image-20230224005251340](../image/image-20230224005251340.png)



**终结器引用**

![image-20230224005921859](../image/image-20230224005921859.png)



