package com.example.smallwhite.config;import org.springframework.beans.factory.annotation.Value;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.PropertySource;import org.springframework.jdbc.datasource.DataSourceTransactionManager;import org.springframework.jdbc.datasource.DriverManagerDataSource;import org.springframework.transaction.PlatformTransactionManager;import javax.sql.DataSource;/** * @author: yangqiang * @create: 2021-03-31 21:30 */@PropertySource(value = {"classpath:application.yml", "classpath:application.properties"})//制定读取配置文件的路径@ConfigurationProperties(prefix = "spring.datasource")@Configurationpublic class SpringConfig {    @Value("${url}")    private String url;    @Value("${driver-class-name}")    private String driver;    @Value("${username}")    private String username;    @Value("${password}")    private String password;    @Bean    public PlatformTransactionManager transactionManager(){        DataSourceTransactionManager dataSourceTransactionManager = new DataSourceTransactionManager();        dataSourceTransactionManager.setDataSource(dataSource());        return dataSourceTransactionManager;    }    @Bean    public DataSource dataSource(){        DriverManagerDataSource dataSource = new DriverManagerDataSource();        dataSource.setUrl(url);        dataSource.setUsername(username);        dataSource.setPassword(password);        return dataSource;    }}