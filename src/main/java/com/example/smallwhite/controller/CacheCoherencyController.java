package com.example.smallwhite.controller;import com.example.smallwhite.mybatis.dao.BabyDao;import com.example.smallwhite.mybatis.entity.Baby;import com.example.smallwhite.utils.JdbcUtil;import com.example.smallwhite.utils.RedisService;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;/** * @author: yangqiang * @create: 2021-05-21 15:51 */@RestController@Slf4j@RequestMapping("/cache")public class CacheCoherencyController {    @Autowired    JdbcUtil jdbcUtil;    @Autowired    RedisService redisService;    @Autowired    BabyDao dao;    @RequestMapping("/get")    public Object get(){        Object testname = redisService.get("testname");        if(testname == null){            Baby baby = dao.queryById("2");            testname = baby.getName();            redisService.set("testname",testname);        }        return testname;    }    @RequestMapping("/update")    public Object update(){        dao.update(new Baby("2", "chilema"));        redisService.set("testname","chilema");        return "chilema";    }}