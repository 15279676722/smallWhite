package com.example.smallwhite.transaction.service.impl;import com.example.smallwhite.transaction.service.TemplateService;import com.example.smallwhite.utils.BaseBusinessException;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import java.util.UUID;/** * @author: yangqiang * @create: 2021-06-07 10:37 */@Servicepublic class TemplateServiceImpl implements TemplateService {    @Autowired    JdbcTemplate jdbcTemplate;    public final String sql_01 = "update baby set name=? where id=?";    public final String sql_02 = "update baby set name=? where id=?";    /**     * 测试Spring事务     */    @Override    public void testTransaction() {        jdbcTemplate.update(sql_01, UUID.randomUUID().toString(),2);        methodB();    }    /**     * 测试Spring事务     */    @Override    @Transactional    public void testTransaction2() {        jdbcTemplate.update(sql_01, UUID.randomUUID().toString(),2);        methodB2();    }    public void methodB(){        jdbcTemplate.update(sql_01, UUID.randomUUID().toString(),3);        throw new BaseBusinessException("exception");    }    public void methodB2(){        jdbcTemplate.update(sql_01, UUID.randomUUID().toString(),3);        throw new BaseBusinessException("exception");    }}